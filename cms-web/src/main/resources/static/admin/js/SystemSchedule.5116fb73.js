(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SystemSchedule"],{"7db0":function(e,t,n){"use strict";var a=n("23e7"),s=n("b727").find,o=n("44d2"),c=n("ae40"),i="find",r=!0,u=c(i);i in[]&&Array(1)[i]((function(){r=!1})),a({target:"Array",proto:!0,forced:r||!u},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},9693:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-table",{staticClass:"table",attrs:{columns:e.columns,dataSource:e.shedules,size:"small",pagination:!1,rowKey:function(e){return e.id}},scopedSlots:e._u([{key:"action",fn:function(t,a){return n("span",{},[n("a-divider",{attrs:{type:"vertical"}}),n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.runOnceJobNow(a.id)}}},[e._v("运行一次")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.removeJob(a.id)}}},[e._v("移除")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.startJob(a.id)}}},[e._v("启动")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.updateJobInput(a.id)}}},[e._v("更新")])],1)}}])},[n("template",{slot:"title"},[n("a-button",{on:{click:function(){e.visible=!0,e.isUpdate=!1}}},[e._v("添加任务")])],1)],2),n("a-modal",{attrs:{title:"添加任务"},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("a-form",[n("a-form-item",{attrs:{label:"任务名称"}},[n("a-input",{model:{value:e.shcedule.jobName,callback:function(t){e.$set(e.shcedule,"jobName",t)},expression:"shcedule.jobName"}})],1),n("a-form-item",{attrs:{label:"任务描述"}},[n("a-input",{model:{value:e.shcedule.description,callback:function(t){e.$set(e.shcedule,"description",t)},expression:"shcedule.description"}})],1),n("a-form-item",{attrs:{label:"任务表达式"}},[n("a-input",{model:{value:e.shcedule.cornExpression,callback:function(t){e.$set(e.shcedule,"cornExpression",t)},expression:"shcedule.cornExpression"}})],1),n("a-form-item",{attrs:{label:"任务类名"}},[n("a-input",{model:{value:e.shcedule.beanClass,callback:function(t){e.$set(e.shcedule,"beanClass",t)},expression:"shcedule.beanClass"}})],1),n("a-form-item",{attrs:{label:"任务分组"}},[n("a-input",{model:{value:e.shcedule.jobGroup,callback:function(t){e.$set(e.shcedule,"jobGroup",t)},expression:"shcedule.jobGroup"}})],1),n("a-form-item",{attrs:{label:"任务状态"}},[n("a-input",{model:{value:e.shcedule.jobStatus,callback:function(t){e.$set(e.shcedule,"jobStatus",t)},expression:"shcedule.jobStatus"}})],1)],1)],1)],1)},s=[],o=(n("7db0"),n("9efd")),c="/api/schedule",i={list:function(){return Object(o["a"])({url:c,method:"get"})},find:function(e){return Object(o["a"])({url:"".concat(c,"/find/").concat(e),method:"get"})},add:function(e){return Object(o["a"])({url:"".concat(c,"/addJob"),data:e,method:"post"})},updateJobCron:function(e,t){return Object(o["a"])({url:"".concat(c,"/updateJobCron/").concat(e),data:t,method:"post"})},startJob:function(e){return Object(o["a"])({url:"".concat(c,"/startJob/").concat(e),method:"get"})},removeJob:function(e){return Object(o["a"])({url:"".concat(c,"/removeJob/").concat(e),method:"get"})},runOnceJobNow:function(e){return Object(o["a"])({url:"".concat(c,"/runOnceJobNow/").concat(e),method:"get"})}},r=i,u=[{title:"jobName",dataIndex:"jobName",key:"jobName"},{title:"jobGroup",dataIndex:"jobGroup",key:"jobGroup"},{title:"beanClass",dataIndex:"beanClass",key:"beanClass"},{title:"cornExpression",dataIndex:"cornExpression",key:"cornExpression"},{title:"scheduleStatus",dataIndex:"scheduleStatus",key:"scheduleStatus"},{title:"Action",key:"action",scopedSlots:{customRender:"action"}}],l={data:function(){return{columns:u,shedules:null,visible:!1,shcedule:{jobName:"",description:"",cornExpression:"",beanClass:"",jobGroup:"",jobStatus:"",userId:""},isUpdate:!1,selectShceduleId:null}},created:function(){this.loadSchedules()},methods:{loadSchedules:function(){var e=this;r.list().then((function(t){e.shedules=t.data.data}))},handleOk:function(){var e=this;this.isUpdate?r.updateJobCron(this.selectShceduleId,this.shcedule).then((function(t){e.$notification["success"]({message:"操作"+t.data.message}),e.loadSchedules(),e.visible=!1})):r.add(this.shcedule).then((function(t){e.$notification["success"]({message:"操作"+t.data.message}),e.loadSchedules(),e.visible=!1}))},startJob:function(e){var t=this;r.startJob(e).then((function(e){t.$notification["success"]({message:"操作"+e.data.message}),t.loadSchedules()}))},removeJob:function(e){var t=this;r.removeJob(e).then((function(e){t.$notification["success"]({message:"操作"+e.data.message}),t.loadSchedules()}))},runOnceJobNow:function(e){var t=this;r.runOnceJobNow(e).then((function(e){t.$notification["success"]({message:"操作"+e.data.message}),t.loadSchedules()}))},updateJobInput:function(e){var t=this;this.selectShceduleId=e,this.isUpdate=!0,r.find(e).then((function(e){t.visible=!0,t.shcedule=e.data.data}))}}},d=l,b=n("2877"),f=Object(b["a"])(d,a,s,!1,null,null,null);t["default"]=f.exports},ae40:function(e,t,n){var a=n("83ab"),s=n("d039"),o=n("5135"),c=Object.defineProperty,i={},r=function(e){throw e};e.exports=function(e,t){if(o(i,e))return i[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:r,d=o(t,1)?t[1]:void 0;return i[e]=!!n&&!s((function(){if(u&&!a)return!0;var e={length:-1};u?c(e,1,{enumerable:!0,get:r}):e[1]=1,n.call(e,l,d)}))}},b727:function(e,t,n){var a=n("0366"),s=n("44ad"),o=n("7b0b"),c=n("50c4"),i=n("65f0"),r=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,d=6==e,b=5==e||d;return function(f,h,p,m){for(var v,j,S=o(f),k=s(S),x=a(h,p,3),J=c(k.length),g=0,O=m||i,y=t?O(f,J):n?O(f,0):void 0;J>g;g++)if((b||g in k)&&(v=k[g],j=x(v,g,S),e))if(t)y[g]=j;else if(j)switch(e){case 3:return!0;case 5:return v;case 6:return g;case 2:r.call(y,v)}else if(l)return!1;return d?-1:u||l?l:y}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}}}]);
//# sourceMappingURL=SystemSchedule.5116fb73.js.map