(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"1e80":function(t,e,a){},"71a8":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-wrapper"},[a("a-card",{attrs:{title:"欢迎登录cms系统"}},[a("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[a("a-form-item",{attrs:{label:"用户名"}},[a("a-input",{attrs:{placeholder:"Please input your name"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),a("a-form-item",{attrs:{label:"用户密码"}},[a("a-input",{attrs:{placeholder:"Please input your password",type:"password",autocomplete:""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("登录")])],1)],1)],1)],1)},n=[],o=(a("ac1f"),a("5319"),a("c24f")),s={data:function(){return{user:{username:"",password:""},form:this.$form.createForm(this,{name:"horizontal_login"})}},created:function(){var t=localStorage.getItem("jwtToken");null!=t&&this.$router.replace("/article/list")},methods:{submit:function(){var t=this;o["a"].login(this.user).then((function(e){t.$message.success("登录成功!!"+e.data.message),localStorage.setItem("jwtToken",e.data.data.id_token),o["a"].getCurrentUser().then((function(e){localStorage.setItem("user",JSON.stringify(e.data.data)),t.$router.replace("/article/list")}))}))},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,a){t||o["a"].login(a).then((function(t){e.$message.success("登录成功!!"+t.data.message)}))}))}}},u=s,c=(a("939a"),a("2877")),i=Object(c["a"])(u,r,n,!1,null,null,null);e["default"]=i.exports},"939a":function(t,e,a){"use strict";var r=a("1e80"),n=a.n(r);n.a},c24f:function(t,e,a){"use strict";var r=a("9efd"),n="/api/user",o={page:function(t){return Object(r["a"])({url:n,params:t,method:"get"})},add:function(t){return Object(r["a"])({url:n,data:t,method:"post"})},update:function(t,e){return Object(r["a"])({url:"".concat(n,"/update/").concat(t),data:e,method:"post"})},delete:function(t){return Object(r["a"])({url:"".concat(n,"/delete/").concat(t),method:"get"})},find:function(t){return Object(r["a"])({url:"".concat(n,"/find/").concat(t),method:"get"})},login:function(t){return Object(r["a"])({url:"/user/authenticate",data:t,method:"post"})},logout:function(){return Object(r["a"])({url:"/logout",method:"post"})},getCurrentUser:function(){return Object(r["a"])({url:"/api/user/getCurrent",method:"get"})}};e["a"]=o}}]);
//# sourceMappingURL=login.47495bfe.js.map