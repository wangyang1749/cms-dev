(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TemplateStaticList"],{2423:function(t,e,a){"use strict";var n=a("9efd"),c="/api/article",o={delete:function(t){return Object(n["a"])({url:"".concat(c,"/delete/").concat(t),method:"get"})},updateAll:function(t){return Object(n["a"])({url:"".concat(c,"/updateAll"),params:t,method:"get"})},query:function(t){return Object(n["a"])({url:c,params:t,method:"get"})},updateCategory:function(t,e){return Object(n["a"])({url:"".concat(c,"/updateCategory/").concat(t),params:{baseCategoryId:e},method:"get"})},addArticleToChannel:function(t,e){return Object(n["a"])({url:"".concat(c,"/addArticleToChannel/").concat(t),params:{channelId:e},method:"get"})},queryTitle:function(t){return Object(n["a"])({url:"".concat(c,"/query"),params:{title:t},method:"get"})},listByComponentsId:function(t){return Object(n["a"])({url:"".concat(c,"/listByComponentsId/").concat(t),method:"get"})},updateOrderBy:function(t,e){return Object(n["a"])({url:"".concat(c,"/updateOrderBy/").concat(t),params:{order:e},method:"get"})},pageByTagId:function(t,e){return Object(n["a"])({url:"".concat(c,"/pageByTagId/").concat(t),params:e,method:"get"})},pageDtoBy:function(t,e){return Object(n["a"])({url:"".concat(c,"/pageDtoBy/").concat(t),params:e,method:"get"})},findById:function(t){return Object(n["a"])({url:"".concat(c,"/find/").concat(t),method:"get"})},openOrCloseComment:function(t){return Object(n["a"])({url:"".concat(c,"/openOrCloseComment/").concat(t),method:"get"})},haveHtml:function(t){return Object(n["a"])({url:"".concat(c,"/haveHtml/").concat(t),method:"get"})},sendOrCancelTop:function(t){return Object(n["a"])({url:"".concat(c,"/sendOrCancelTop/").concat(t),method:"get"})},create:function(t){return Object(n["a"])({url:c,data:t,method:"post"})},saveArticle:function(t){return Object(n["a"])({url:"".concat(c,"/save"),data:t,method:"post"})},updateArticle:function(t,e){return Object(n["a"])({url:"".concat(c,"/save/").concat(t),data:e,method:"post"})},update:function(t,e){return Object(n["a"])({url:"".concat(c,"/update/").concat(t),data:e,method:"post"})},generateHtml:function(t){return Object(n["a"])({url:"".concat(c,"/generateHtml/").concat(t),method:"get"})}};e["a"]=o},"7e6f":function(t,e,a){"use strict";var n=a("9efd"),c="/api/templatePage",o={update:function(t,e){return Object(n["a"])({url:"".concat(c,"/update/").concat(t),data:e,method:"post"})},add:function(t){return Object(n["a"])({url:"".concat(c),data:t,method:"post"})},list:function(t){return Object(n["a"])({url:c,params:t,method:"get"})},delete:function(t){return Object(n["a"])({url:"".concat(c,"/delete/").concat(t),method:"get"})},generateHtml:function(t){return Object(n["a"])({url:"".concat(c,"/generate/").concat(t),method:"get"})},findById:function(t){return Object(n["a"])({url:"".concat(c,"/find/").concat(t),method:"get"})},listNeedArticle:function(){return Object(n["a"])({url:"".concat(c,"/listNeedArticle"),method:"get"})},updateArgs:function(t,e){return Object(n["a"])({url:"".concat(c,"/updateArgs/").concat(t),params:{args:e},method:"get"})},findDetailsById:function(t){return Object(n["a"])({url:"".concat(c,"/findDetailsById/").concat(t),method:"get"})}};e["a"]=o},a182:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("生成Html在调试模板事有用")]),a("a-table",{attrs:{columns:t.columns,dataSource:t.template,pagination:!1,rowKey:function(t){return t.id}},scopedSlots:t._u([{key:"templateName",fn:function(e,n){return a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.preview(n.id)}}},[t._v("["+t._s(n.id)+"]-"+t._s(e))])}},{key:"dataName",fn:function(e,n){return a("span",{},["@Article"==e?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.showArticle(n.id)}}},[t._v(t._s(e))]):a("span",[t._v(t._s(e))])])}},{key:"action",fn:function(e,n){return a("span",{},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.deleteComponent(n.id)}}},[t._v("删除")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.editComponent(n.id)}}},[t._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openHtml(n)}}},[t._v("查看Html")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.generateHtml(n)}}},[t._v("生成Html")])],1)}}])}),a("div",{staticClass:"page-wrapper",style:{textAlign:"right"}},[a("a-pagination",{staticClass:"pagination",attrs:{current:t.pagination.page,total:t.pagination.total,defaultPageSize:t.pagination.size,pageSizeOptions:["1","2","5","10","20","50","100"],showSizeChanger:""},on:{showSizeChange:t.handlePaginationChange,change:t.handlePaginationChange}})],1),a("a-drawer",{attrs:{title:"文章列表",placement:"right",closable:!0,visible:t.articleListDrawer,width:"40rem"},on:{close:function(){t.articleListDrawer=!1}}},[a("a-input",{model:{value:t.articleViewName,callback:function(e){t.articleViewName=e},expression:"articleViewName"}}),a("a-button",{on:{click:t.addByArticleViewName}},[t._v("添加文章")]),a("a-list",{attrs:{bordered:"",dataSource:t.articles},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[a("a",{attrs:{slot:"actions"},on:{click:function(a){return t.removeArticle(e.id)}},slot:"actions"},[t._v("从组件移除文章")]),a("a-list-item-meta",{attrs:{description:e.content}},[a("a",{attrs:{slot:"title"},on:{click:function(a){return t.openArticleHtml(e)}},slot:"title"},[t._v(t._s(e.title))])])],1)}}])})],1)],1)},c=[],o=a("5c07"),i=a("7e6f"),r=a("2423"),l=a("9efd"),s="/api/componentsArticle",u={add:function(t,e){return Object(l["a"])({url:"".concat(s,"/add"),params:{articleId:t,componentsId:e},method:"get"})},addByArticleViewName:function(t,e){return Object(l["a"])({url:"".concat(s,"/addByArticleViewName/").concat(t),params:{viewName:e},method:"get"})},delete:function(t,e){return Object(l["a"])({url:"".concat(s,"/deleteByComponentIdAndArticleId/").concat(t),params:{articleId:e},method:"get"})}},d=u,m=[{title:"模板名称",dataIndex:"name",key:"name",scopedSlots:{customRender:"templateName"}},{title:"数据来源",key:"dataName",dataIndex:"dataName",scopedSlots:{customRender:"dataName"}},{title:"视图名称",dataIndex:"viewName",key:"viewName"},{title:"创建时间",dataIndex:"createDate",key:"createDate"},{title:"Action",key:"action",scopedSlots:{customRender:"action"}}],p={data:function(){return{pagination:{page:1,size:5,sort:null},queryParam:{page:0,size:10,sort:null,keyword:null,categoryId:null,status:null},columns:m,articles:[],template:[],componentId:null,articleListDrawer:!1,articleViewName:""}},created:function(){this.loadTemplate()},methods:{loadTemplate:function(){var t=this;this.queryParam.page=this.pagination.page-1,this.queryParam.size=this.pagination.size,this.queryParam.sort=this.pagination.sort,i["a"].list(this.queryParam).then((function(e){t.template=e.data.data.content,t.pagination.total=e.data.data.totalElements}))},handlePaginationChange:function(t,e){this.pagination.page=t,this.pagination.size=e,this.loadTemplate()},preview:function(t){window.open(o["a"].Online("component",t),"_blank")},generateHtml:function(t){var e=this;i["a"].generateHtml(t.id).then((function(t){e.$notification["success"]({message:t.data.message})}))},openHtml:function(t){window.open(o["a"].Html(t.path+"/"+t.viewName),"_blank")},showArticle:function(t){var e=this;this.componentId=t,this.articleListDrawer=!0,r["a"].listByComponentsId(t).then((function(t){e.articles=t.data.data}))},addByArticleViewName:function(){var t=this;""!=this.articleViewName?d.addByArticleViewName(this.componentId,this.articleViewName).then((function(e){t.articleViewName="",t.showArticle(t.componentId),t.$notification["success"]({message:"操作"+e.data.message})})):this.$message.error("视图不能为空")},removeArticle:function(t){var e=this;d.delete(this.componentId,t).then((function(t){e.showArticle(e.componentId),e.$notification["success"]({message:"操作"+t.data.message})}))},openArticleHtml:function(t){window.open(o["a"].Html(t.path+"/"+t.viewName),"_blank")},editComponent:function(t){this.$router.push({name:"ComponentsCreate",query:{id:t}})},deleteComponent:function(t){var e=this;i["a"].delete(t).then((function(t){e.loadTemplate(),e.$notification["success"]({message:"操作"+t.data.message})}))}}},f=p,h=a("2877"),g=Object(h["a"])(f,n,c,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=TemplateStaticList.d263c4f0.js.map